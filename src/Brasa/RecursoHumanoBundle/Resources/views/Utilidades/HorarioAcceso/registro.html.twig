{% extends '::base.html.twig' %}
{% block title %}Control acceso - Soga App{% endblock %}
{% block content %}
<div class="container">
    {{ form_start(form, { 'attr': {'class': 'form-horizontal'} }) }}
    <h3>Control de acceso empleados</h3>    
    <div class="panel panel-default">
        <div class="panel-heading">Información general</div>
        <div class="panel-body">          
            <div class="form-group form-group-sm">
                <label for="form_empleado" class="col-sm-3 control-label">Empleado:</label>
                <div class="col-sm-9">
                    <input id="txtNumeroIdentificacion"  name="txtNumeroIdentificacion"  type="text" class="form-control" value="{{ arHorarioAcceso.empleadoRel.numeroIdentificacion |default('') }}"/>
                </div>
            </div>    
            <div class="form-group">
                <label for="form_comentarios" class="col-sm-3 control-label">Comentarios:</label>
                <div class="col-sm-9">
                            {{ form_widget(form.comentarios, { 'attr': {'style':'text-transform:uppercase;','onblur':'javascript:this.value=this.value.toUpperCase()','class': 'form-control'} }) }}
                </div>
            </div>
        </div>
    </div>            
    <div class="modal-footer">
        <a class="btn btn-default btn-sm" href="javascript:abrirVentana3('{{ path('brs_rhu_cargar_control_acceso_empleados' ) }}', 'CargarEmpleadosControlAcceso', 600, 900)" >Importar TXT</a>
        <a class="btn btn-default btn-sm" href="{{ path('brs_rhu_utilidades_control_acceso_empleado') }}">Limpiar</a>        
        {{ form_widget(form.guardar, { 'attr': {'class': 'btn btn-primary btn-sm'} }) }}
    </div>
    <table  class="table table-striped table-bordered table-condensed table-hover">            
            <tr>
                <th>CÓDIGO</th>
                <th>IDENTIFICACIÓN</th>
                <th>EMPLEADO</th>
                <th>DEPARTAMENTO</th>
                <th>FECHA</th>
                <th>TURNO</th>
                <th>HORA TURNO</th>
                <th>HORA EMPLEADO</th>
                <th>LLEGADA TARDE</th>
                <th>DURACIÓN LLEG TARDE</th>
                <th>ANULADO</th>
                <th>COMENTARIOS</th>
            </tr>
            {% set contador = 1  %}
            {% for arHorarioAccesos in arHorarioAccesos %}
            <tr>
                <td>{{ contador  }}</td>
                <td>{{ arHorarioAccesos.empleadoRel.numeroIdentificacion  }}</td>
                <td>{{ arHorarioAccesos.empleadoRel.nombreCorto  }}</td>
                <td>{{ arHorarioAccesos.empleadoRel.departamentoEmpresaRel.nombre  }}</td>
                <td>{{ arHorarioAccesos.fechaEntrada|date('Y-m-d')  }}</td>
                <td>{{ arHorarioAccesos.codigoTurnoFk }}</td>
                <td>{{ arHorarioAccesos.horaEntradaTurno|date('H:i:s')  }}</td>
                <td>{% if arHorarioAccesos.fechaEntrada|date('H:i:s') == "00:00:00" %}SIN ENTRADA{% else %}{{ arHorarioAccesos.fechaEntrada|date('H:i:s')  }}{% endif %}</td>
                <td>{% if arHorarioAccesos.llegadaTarde == 1%}SI{% else %}NO{% endif %}</td>
                <td>{{ arHorarioAccesos.duracionLlegadaTarde }}</td>
                <td>{% if arHorarioAccesos.anulado == 1%}SI{% else %}NO{% endif %}</td>
                <td>{{ arHorarioAccesos.comentarios  }}</td>
                
            </tr>
            {% set contador = contador + 1  %}
            {% endfor %}                        
        </table>
        
    {{ form_end(form) }}
</div>
{% endblock %}